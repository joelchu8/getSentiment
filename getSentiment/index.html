<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Read Mate - Reads for you</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">


</head>

<body>
    <!-- We need the text parameter from the user. This will be used by __init__.py to send the text to the summary model -->
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Read Mate</h1>
                <h2>Reads for you</h2>
                <!-- Get the text from the user -->
                <form action="/getSentiment" method="POST">
                    <div class="form-group">
                        <label for="text">Enter the text</label>
                        <textarea class="form-control" id="text" name="text" rows="3"></textarea>
                    </div>
                </form>
                <button type="submit" class="btn btn-primary">Submit</button>
                <!-- Post the text to http://localhost:6968/api/getSentiment?text= -->
                <script>
                    // send the text to the backend which is www.google.com/myapi/text
                    // put the text in the text parameter
                    // get the response from the backend
                    // display the response in the html
                    // get the button   
                    var button = document.querySelector("button");
                    // add an event listener to the button
                    button.addEventListener("click", function() {
                        // get the text from the text area
                        var text = document.querySelector("#text").value;
                        // send the text to the backend
                        // create a new request
                        var request = new XMLHttpRequest();
                        // open the request
                        request.open("POST", "http://localhost:6968/api/getSentiment?text=" + text);
                        // send the request
                        request.send();
                        // get the response
                        request.addEventListener("load", function() {
                            // get the response
                            var response = request.responseText;
                            // display the response
                            alert(response);
                        });
                    });
                </script>
            </div>
        </div>
    </div>
</body>
</html>
